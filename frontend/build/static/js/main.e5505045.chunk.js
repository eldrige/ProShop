(this["webpackJsonpreact-lap"]=this["webpackJsonpreact-lap"]||[]).push([[0],{120:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(26),c=a.n(l),o=(a(89),a(90),a(10)),u=a(16),s=a(125),i=a(9),m=a(131),E=a(73),p=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(i.a)(a,2),c=l[0],o=l[1];return r.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),c.trim()?t.push("/search/".concat(c)):t.push("/")},inline:!0},r.a.createElement(m.a.Control,{type:"text",name:"q",onChange:function(e){return o(e.target.value)},placeholder:"Search drugs...",className:"mr-sm-2  ml-sm-5"}),r.a.createElement(E.a,{type:"submit",variant:"outline-success",className:"p-2"},"Search"))},d=a(17),f=a(133),g=a(136),h=a(130),y=a(6),S=a(8),v=a.n(S),R=a(11),b=a(12),_=a.n(b),O=function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_DETAILS_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.get("/api/users/".concat(e),c);case 6:o=t.sent,u=o.data,a({type:"USER_DETAILS_SUCCESS",payload:u}),localStorage.setItem("userDetails",JSON.stringify(u)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),a({type:"USER_DETAILS_FAIURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()},C=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.userLogin})).userInfo;return r.a.createElement("header",null,r.a.createElement(f.a,{bg:"success",variant:"dark",expand:"lg",collapseOnSelect:!0},r.a.createElement(s.a,null,r.a.createElement(d.LinkContainer,{to:"/"},r.a.createElement(f.a.Brand,null,"Pharmacie App")),r.a.createElement(f.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(f.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(u.d,{render:function(e){var t=e.history;return r.a.createElement(p,{history:t})}}),r.a.createElement(g.a,{className:"ml-auto"},t?r.a.createElement(h.a,{title:t.name},r.a.createElement(d.LinkContainer,{to:"/profile"},r.a.createElement(h.a.Item,null,"Profile")),r.a.createElement(h.a.Item,{onClick:function(){e((function(e){localStorage.removeItem("userInfo"),e({type:"USER_LOGOUT"}),e({type:"USER_DETAILS_RESET"}),e({type:"ORDER_LIST_MY_RESET"}),e({type:"USER_LIST_RESET "}),e({type:"USER_UPDATE_PROFILE_RESET"})}))}},"Logout")):r.a.createElement(d.LinkContainer,{to:"/login"},r.a.createElement(g.a.Link,null,r.a.createElement("i",{className:"fas fa-user"})," Sign In")),t&&t.isAdmin&&r.a.createElement(h.a,{title:"Admin",id:"adminmenu"},r.a.createElement(d.LinkContainer,{to:"/admin/userlist"},r.a.createElement(h.a.Item,null,"Suppliers")),r.a.createElement(d.LinkContainer,{to:"/admin/productlist"},r.a.createElement(h.a.Item,null,"Drugs")),r.a.createElement(d.LinkContainer,{to:"/admin/reportlist"},r.a.createElement(h.a.Item,null,"Reports"))))))))},I=a(126),T=a(72),U=function(){return r.a.createElement("footer",null,r.a.createElement(s.a,null,r.a.createElement(I.a,null,r.a.createElement(T.a,{className:"text-center py-3"},"Copyright \xa9 ProShop"))))},D=a(137),A=function(e){var t=e.value,a=e.text,n=e.color;return r.a.createElement("div",{className:"rating"},r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"fas fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"fas fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"fas fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"fas fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"fas fa-star"})),r.a.createElement("span",null,r.a.createElement("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"fas fa-star"})),r.a.createElement("span",null,a&&a))};A.defaultProps={color:"#f8e825"};var L=A,P=function(e){var t=e.product;return r.a.createElement(D.a,{className:"my-3 p-3 rounded"},r.a.createElement(o.Link,{to:"/product/".concat(t._id)},r.a.createElement(D.a.Img,{src:t.image,variant:"top"})),r.a.createElement(D.a.Body,null,r.a.createElement(o.Link,{to:"/product/".concat(t._id)},r.a.createElement(D.a.Title,{as:"div"},r.a.createElement("strong",null,t.name))),r.a.createElement(D.a.Text,{as:"div"},r.a.createElement(D.a.Title,{as:"div"},r.a.createElement("strong",null,"Count:"," ",r.a.createElement("span",{style:{fontWeight:"bold",fontSize:"1rem"}},t.countInStock)))),r.a.createElement(D.a.Text,{as:"h3"},t.price.toFixed(0)," XAF")))},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(){var a=Object(R.a)(v.a.mark((function a(n){var r,l;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"PRODUCT_LIST_REQUEST"}),a.next=4,_.a.get("/api/products?keyword=".concat(e,"&pageNumber=").concat(t));case 4:r=a.sent,l=r.data,n({type:"PRODUCT_LIST_SUCCESS",payload:l}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),n({type:"PRODUCT_LIST_FAILURE",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},k=function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a){var n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DETAILS_REQUEST"}),t.next=4,_.a.get("/api/products/".concat(e));case 4:n=t.sent,r=n.data,a({type:"PRODUCT_DETAILS_SUCCESS",payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},w=function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_UPDATE_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.put("/api/products/".concat(e._id),e,c);case 6:o=t.sent,u=o.data,a({type:"PRODUCT_UPDATE_SUCCESS",payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"PRODUCT_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},x=a(127),N=function(){return r.a.createElement(x.a,{animation:"border",role:"status",style:{width:"100px",height:"100px",margin:"auto",display:"block"}},r.a.createElement("span",{className:"sr-only"},"Loading"))},F=a(134),G=function(e){var t=e.variant,a=e.children;return r.a.createElement(F.a,{variant:t},a)};G.defaultProps={variant:"info"};var M=G,Q=a(27),B=a(138),V=function(e){var t=e.pages,a=e.page,n=e.isAdmin,l=void 0!==n&&n,c=e.keyword,o=void 0===c?"":c;return t>1&&r.a.createElement(B.a,null,Object(Q.a)(Array(t).keys()).map((function(e){return r.a.createElement(d.LinkContainer,{key:e+1,to:l?"/admin/productlist/".concat(e+1):o?"/search/".concat(o,"/page/").concat(e+1):"/page/".concat(e+1)},r.a.createElement(B.a.Item,{active:e+1===a},e+1))})))},Y=a(77),$=function(e){var t=e.title,a=e.description,n=e.keywords;return r.a.createElement(Y.a,null,r.a.createElement("title",null,t),r.a.createElement("meta",{name:"description",content:a}),r.a.createElement("meta",{name:"keyword",content:n}))};$.defaultProps={title:"Welcome To ProShop",keyword:"Electornics, Buy Electronic, Cheap Electronics",content:"We sell the best products for cheap"};var q=$,z=a(132),W=a(128),J=function(){var e=Object(y.b)(),t=Object(y.c)((function(e){return e.productTopRated})),a=t.products,l=t.loading,c=t.error;return Object(n.useEffect)((function(){e(function(){var e=Object(R.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_TOP_REQUEST"}),e.next=4,_.a.get("/api/products/top");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_TOP_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_TOP_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[e]),l?r.a.createElement(N,null):c?r.a.createElement(M,{variant:"danger"},c):r.a.createElement(z.a,{pause:"hover",className:"bg-dark"},a.map((function(e){return r.a.createElement(z.a.Item,{key:e._id},r.a.createElement(o.Link,{to:"/product/".concat(e._id)},r.a.createElement(W.a,{src:e.image,alt:e.name,fluid:!0}),r.a.createElement(z.a.Caption,{className:"carousel-caption"},e.name," ",e.price," XAF")))})))},X=function(e){var t=e.match,a=t.params.keyword,l=t.params.pageNumber||1,c=Object(y.b)(),u=Object(y.c)((function(e){return e.productList})),s=u.loading,i=u.error,m=u.products,E=u.page,p=u.pages;return Object(n.useEffect)((function(){c(j(a,l))}),[c,a,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(q,null),a?r.a.createElement(o.Link,{to:"/",className:"btn btn-light"},"Go Back"):r.a.createElement(J,null),r.a.createElement("h1",null,"Latest Drugs"),s?r.a.createElement(N,null):i?r.a.createElement(M,{variant:"danger"},i):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,m.map((function(e){return r.a.createElement(T.a,{key:e._id,sm:12,md:6,lg:4,xl:4},r.a.createElement(P,{product:e}))}))),r.a.createElement(V,{pages:p,page:E,keyword:a||""})))},H=a(55),K=a(135),Z=a(139),ee=function(e){var t=e.history,a=e.match,l=Object(y.c)((function(e){return e.productUpdate})),c=l.loading,u=(l.error,l.success),s=Object(n.useState)(1),p=Object(i.a)(s,2),d=p[0],f=p[1],g=Object(n.useState)(0),h=Object(i.a)(g,2),S=h[0],b=h[1],O=Object(n.useState)(""),C=Object(i.a)(O,2),U=C[0],A=C[1],P=Object(y.b)(),j=Object(y.c)((function(e){return e.productDetails})),x=j.loading,F=j.error,G=j.product,B=Object(y.c)((function(e){return e.productReviewCreate})),V=B.success,Y=B.error,$=Object(y.c)((function(e){return e.userLogin})).userInfo;!function(e){var t=new Date,a=t.setDate(t.getDate()+28);Object(K.a)(e,a)}(null===G||void 0===G?void 0:G.expiryDate);Object(n.useEffect)((function(){window.scrollTo(0,0)}),[]),Object(n.useEffect)((function(){V&&(alert("Review submitted"),b(0),A(""),P({type:"PRODUCT_CREATE_REVIEW_RESET"})),P(k(a.params.id))}),[P,a,V]);var z;return Object(n.useEffect)((function(){u&&(P({type:"PRODUCT_UPDATE_RESET"}),t.push("/"))}),[u]),r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Link,{className:"btn btn-light my-3",to:"/"},"Go Back"),x||c?r.a.createElement(N,null):F?r.a.createElement(M,{variant:"danger"},F):r.a.createElement(r.a.Fragment,null,u&&r.a.createElement(M,null,"Drug Purchased"),"Panadol"===(null===G||void 0===G?void 0:G.name)&&r.a.createElement(M,{variant:"danger"},"soon expiring"),r.a.createElement(q,{title:G.name}),r.a.createElement(I.a,null,r.a.createElement(T.a,{md:6},r.a.createElement(W.a,{src:G.image,alt:G.name,fluid:!0})),r.a.createElement(T.a,{md:3},r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h3",null,G.name)),r.a.createElement(Z.a.Item,null,"Count : ",G.countInStock),r.a.createElement(Z.a.Item,null,"Price : ",G.price," XAF"),r.a.createElement(Z.a.Item,null,"Description : ",G.description))),r.a.createElement(T.a,{md:3},r.a.createElement(D.a,null,r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Expiry Date:"),r.a.createElement(T.a,null,(z=null===G||void 0===G?void 0:G.expiryDate,new Date(z).toDateString())))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Status:"),r.a.createElement(T.a,null,G.countInStock>0?"In Stock":"Out of stock"))),G.countInStock>0&&r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Qty"),r.a.createElement(T.a,null,r.a.createElement(m.a.Control,{as:"select",value:d,onChange:function(e){return f(e.target.value)}},Object(Q.a)(Array(G.countInStock).keys()).map((function(e){return r.a.createElement("option",{value:e+1,key:e+1},e+1)})))))),r.a.createElement(Z.a.Item,null,r.a.createElement(E.a,{onClick:function(){var e=G.countInStock-d;P(w({_id:G._id,countInStock:e,name:G.name,price:G.price,image:G.image,brand:G.brand,description:G.description,category:G.category})),Object(H.b)("You've purchased the drug")},className:"btn-block",type:"button",disabled:0===G.countInStock},"Purchase")))))),r.a.createElement(I.a,null,r.a.createElement(T.a,{md:6},r.a.createElement("h2",null,"Reviews"),0===G.reviews.length&&r.a.createElement(M,null,"No reviews"),r.a.createElement(Z.a,{variant:"flush"},G.reviews.map((function(e){return r.a.createElement(Z.a.Item,{key:e._id},r.a.createElement("strong",null,e.name),r.a.createElement(L,{value:e.rating}),r.a.createElement("p",null,e.createdAt.substring(0,10)),r.a.createElement("p",null,e.comment))})),r.a.createElement(Z.a.Item,null,Y&&r.a.createElement(M,null,Y),$?r.a.createElement(m.a,{onSubmit:function(e){var t,n;e.preventDefault(),P((t=a.params.id,n={rating:S,comment:U},function(){var e=Object(R.a)(v.a.mark((function e(a,r){var l,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:"PRODUCT_CREATE_REVIEW_REQUEST"}),l=r(),c=l.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},e.next=6,_.a.post("/api/products/".concat(t,"/reviews"),n,o);case 6:a({type:"PRODUCT_CREATE_REVIEW_SUCCESS"}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),a({type:"PRODUCT_CREATE_REVIEW_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,a){return e.apply(this,arguments)}}()))}},r.a.createElement(m.a.Group,{controlId:"rating"},r.a.createElement(m.a.Label,null,"Rating"),r.a.createElement(m.a.Control,{as:"select",value:S,onChange:function(e){return b(e.target.value)}},r.a.createElement("option",{value:""},"Select..."),r.a.createElement("option",{value:"1"},"1 - Poor"),r.a.createElement("option",{value:"2"},"2 - Fair"),r.a.createElement("option",{value:"3"},"3 - Good"),r.a.createElement("option",{value:"4"},"4 - Very Good"),r.a.createElement("option",{value:"5"},"5 - Excellent"))),r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Label,null,"Comment"),r.a.createElement(m.a.Control,{as:"textarea",row:"3",value:U,onChange:function(e){return A(e.target.value)}})),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Submit")):r.a.createElement(r.a.Fragment,null)))))))},te=a(129),ae=function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_CREATE_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.post("/api/orders",e,c);case 6:o=t.sent,u=o.data,a({type:"ORDER_CREATE_SUCCESS",payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"ORDER_CREATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()},ne=function(e){e.match,e.history;var t=Object(y.b)(),a=Object(y.c)((function(e){return e.productStats})),l=(a.loading,a.error,a.products),c=(a.count,245e3-+a.productTotalValue),o=c/245e3*100,u=function(e){return(Math.round(100*e)/100).toFixed(2)},s=Object(y.c)((function(e){return e.cart}));s.itemsPrice=u(s.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),s.shippingPrice=u(s.ItemsPrice>100?0:100),s.taxPrice=u(Number(.15*s.itemsPrice).toFixed(2)),s.totalPrice=Number(s.itemsPrice)+Number(s.shippingPrice)+Number(s.taxPrice),Object(n.useEffect)((function(){t(function(){var e=Object(R.a)(v.a.mark((function e(t){var a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_STATS_REQUEST"}),e.next=4,_.a.get("/api/products/stats");case 4:a=e.sent,n=a.data,t({type:"PRODUCT_STATS_SUCCESS",payload:n}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:"PRODUCT_STATS_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,null,r.a.createElement(T.a,{md:12},r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Report")),r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Detailed Report")),r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"No"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Reference"),r.a.createElement("th",null,"Price (XAF)"),r.a.createElement("th",null,"In Stock"),r.a.createElement("th",null,"Items Sold"),r.a.createElement("th",null,"Expiry Date"),r.a.createElement("th",null,"Percentage sold (%)")," ")),r.a.createElement("tbody",null,!!l&&l.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.name),r.a.createElement("td",null,e._id.split(0,9)),r.a.createElement("td",null,e.price.toFixed(0)),r.a.createElement("td",null,e.countInStock),r.a.createElement("td",null,10-e.countInStock),r.a.createElement("td",null,(a=null===e||void 0===e?void 0:e.expiryDate,new Date(a).toDateString())),r.a.createElement("td",null,100-(null===e||void 0===e?void 0:e.countInStock)/10*100));var a}))))))),r.a.createElement(I.a,{className:"mt-4"},r.a.createElement(T.a,{md:6},r.a.createElement("div",null,r.a.createElement("h4",null,"Expected Income"),r.a.createElement("p",null,"This represents the sum of all the initial stock")),r.a.createElement("div",null,r.a.createElement("h4",null,"Current Income"),r.a.createElement("p",null,"This represents the sum of all the articles sold")),r.a.createElement("div",null,r.a.createElement("h4",null,"Profit"),r.a.createElement("p",null,"The profit is a function of the current income versus the expected income"))),r.a.createElement(T.a,{md:6},r.a.createElement(D.a,null,r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h2",{className:"text-center"},"Summary")),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Current Income"),r.a.createElement(T.a,null,c," XAF"))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Expected Income"),r.a.createElement(T.a,null,"245000 XAF"))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Profit"),r.a.createElement(T.a,null," ",o," %"))),r.a.createElement(Z.a.Item,null),r.a.createElement(Z.a.Item,null,r.a.createElement(E.a,{type:"button",className:"btn-block",disabled:0===s.cartItems,onClick:function(){t(ae({orderItems:s.cartItems,shippingAddress:s.shippingAddress,paymentMethod:s.paymentMethod,itemsPrice:s.itemsPrice,shippingPrice:s.shippingPrice,taxPrice:s.taxPrice,totalPrice:s.totalPrice}))}},"Download PDF")))))))},re=function(e,t){return function(){var a=Object(R.a)(v.a.mark((function a(n,r){var l,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,_.a.get("/api/products/".concat(e));case 2:l=a.sent,c=l.data,n({type:"CART_ADD_ITEM",payload:{product:c._id,name:c.name,image:c.image,price:c.price,countInStock:c.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},le=function(e){var t=e.match,a=e.location,l=e.history,c=Object(y.b)(),u=t.params.id,s=a.search?Number(a.search.split("=")[1]):1,i=Object(y.c)((function(e){return e.cart})).cartItems;Object(n.useEffect)((function(){u&&c(re(u,s))}),[c,u,s]);var p=function(e){c(function(e){return function(t,a){t({type:"CART_REMOVE_ITEM",payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))}}(e))};return r.a.createElement(I.a,null,r.a.createElement(T.a,{md:8},r.a.createElement("h1",null,"Shopping Cart"),0===i.length?r.a.createElement(M,null,"Your cart is empty ",r.a.createElement(o.Link,{to:"/"},"Go Back")):r.a.createElement(Z.a,{variant:"flush"},i.map((function(e){return r.a.createElement(Z.a.Item,{key:e.product},r.a.createElement(I.a,null,r.a.createElement(T.a,{md:2},r.a.createElement(W.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(T.a,{md:3},r.a.createElement(o.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(T.a,{md:2},"$",e.price),r.a.createElement(T.a,{md:2},r.a.createElement(m.a.Control,{as:"select",value:e.qty,onChange:function(t){return c(re(e.product,Number(t.target.value)))}},Object(Q.a)(Array(e.countInStock).keys()).map((function(e){return r.a.createElement("option",{value:e+1,key:e+1},e+1)})))),r.a.createElement(T.a,{md:2},r.a.createElement(E.a,{type:"button",vairant:"light",onClick:function(){return p(e.product)}},r.a.createElement("i",{className:"fas fa-trash"})))))})))),r.a.createElement(T.a,{md:4},r.a.createElement(D.a,null,r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Subtotal ",i.reduce((function(e,t){return e+t.qty}),0)," ","items"),"$",i.reduce((function(e,t){return e+t.qty*t.price}),0).toFixed(2)),r.a.createElement(Z.a.Item,null,r.a.createElement(E.a,{type:"button",className:"btn-block",disabled:0===i.length,onClick:function(){l.push("/login?redirect=shipping")}},"Proceed to Checkout"))))))},ce=function(e){var t=e.children;return r.a.createElement(s.a,null,r.a.createElement(I.a,{className:"justify-content-md-center"},r.a.createElement(T.a,{xs:12,md:6},t)))},oe=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(i.a)(l,2),u=c[0],s=c[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),f=d[0],g=d[1],h=Object(y.b)(),S=Object(y.c)((function(e){return e.userLogin})),b=S.loading,O=S.error,C=S.userInfo,U=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){return C&&a.push(U),function(){}}),[a,C,U]);return r.a.createElement(ce,null,r.a.createElement("h1",null,"Sign In"),O&&r.a.createElement(M,{variant:"danger"},O),b&&r.a.createElement(N,null),r.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),h(function(e,t){return function(){var a=Object(R.a)(v.a.mark((function a(n){var r,l,c;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"USER_LOGIN_REQUEST"}),r={headers:{"Content-Type":"application/json"}},a.next=5,_.a.post("/api/users/login",{email:e,password:t},r);case 5:l=a.sent,c=l.data,n({type:"USER_LOGIN_SUCCESS",payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"USER_LOGIN_FAILURE",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(u,f))}},r.a.createElement(m.a.Group,{controlid:"email"},r.a.createElement(m.a.Label,null,"Email Adrress"),r.a.createElement(m.a.Control,{type:"email",placeholder:"Enter email",value:u,onChange:function(e){return s(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"password"},r.a.createElement(m.a.Label,null,"Password"),r.a.createElement(m.a.Control,{type:"password",placeholder:"Enter password",value:f,onChange:function(e){return g(e.target.value)}})),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Sign In")),r.a.createElement(I.a,{className:"py-3"},r.a.createElement(T.a,null,"New Customer?"," ",r.a.createElement(o.Link,{to:U?"/register/redirect=".concat(U):"/register"},"Register"))))},ue=function(e){var t=e.location,a=e.history,l=Object(n.useState)(""),c=Object(i.a)(l,2),u=c[0],s=c[1],p=Object(n.useState)(""),d=Object(i.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(""),S=Object(i.a)(h,2),b=S[0],O=S[1],C=Object(n.useState)(""),U=Object(i.a)(C,2),D=U[0],A=U[1],L=Object(n.useState)(null),P=Object(i.a)(L,2),j=P[0],k=P[1],w=Object(y.b)(),x=Object(y.c)((function(e){return e.userRegister})),F=x.loading,G=(x.error,x.userInfo),Q=t.search?t.search.split("=")[1]:"/";Object(n.useEffect)((function(){return G&&a.push(Q),function(){}}),[a,G,Q]);return r.a.createElement(ce,null,r.a.createElement("h1",null,"Sign Up!"),j&&r.a.createElement(M,{variant:"danger"},j),F&&r.a.createElement(N,null),r.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),b!==D?k("Passwords do not match"):w(function(e,t,a){return function(){var n=Object(R.a)(v.a.mark((function n(r){var l,c,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,r({type:"USER_REGISTER_REQUEST"}),l={headers:{"Content-Type":"application/json"}},n.next=5,_.a.post("/api/users/",{name:e,email:t,password:a},l);case 5:c=n.sent,o=c.data,r({type:"USER_REGISTER_SUCCESS",payload:o}),r({type:"USER_LOGIN_SUCCESS",payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),n.next=15;break;case 12:n.prev=12,n.t0=n.catch(0),r({type:"USER_REGISTER_FAILURE",payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 15:case"end":return n.stop()}}),n,null,[[0,12]])})));return function(e){return n.apply(this,arguments)}}()}(f,u,b))}},r.a.createElement(m.a.Group,{controlid:"name"},r.a.createElement(m.a.Label,null,"Name"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter name",value:f,onChange:function(e){return g(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"email"},r.a.createElement(m.a.Label,null,"Email Adrress"),r.a.createElement(m.a.Control,{type:"email",placeholder:"Enter email",value:u,onChange:function(e){return s(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"password"},r.a.createElement(m.a.Label,null,"Password"),r.a.createElement(m.a.Control,{type:"password",placeholder:"Enter password",value:b,onChange:function(e){return O(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"confirmPassword"},r.a.createElement(m.a.Label,null,"Confirm Password"),r.a.createElement(m.a.Control,{type:"password",placeholder:"Confirm password",value:D,onChange:function(e){return A(e.target.value)}})),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Register")),r.a.createElement(I.a,{className:"py-3"},r.a.createElement(T.a,null,"Have an Account?"," ",r.a.createElement(o.Link,{to:Q?"/login/redirect=".concat(Q):"/login"},"Login"))))},se=function(e){var t=e.history,a=r.a.useState(""),l=Object(i.a)(a,2),c=l[0],o=l[1],u=r.a.useState(""),s=Object(i.a)(u,2),p=s[0],f=s[1],g=r.a.useState(""),h=Object(i.a)(g,2),S=h[0],b=h[1],C=r.a.useState(""),U=Object(i.a)(C,2),D=U[0],A=U[1],L=r.a.useState(""),P=Object(i.a)(L,2),j=P[0],k=P[1],w=Object(y.b)(),x=Object(y.c)((function(e){return e.userDetails})),F=(x.loading,x.error),G=x.user,Q=Object(y.c)((function(e){return e.userLogin})).userInfo,B=Object(y.c)((function(e){return e.userUpdateProfile})).success,V=Object(y.c)((function(e){return e.orderListMy})),Y=V.loading,$=V.error,q=V.orders;console.table(q,"These are my orders"),Object(n.useEffect)((function(){return Q?Q.name?(o(Q.name),f(Q.email)):(w(O("profile")),w(function(){var e=Object(R.a)(v.a.mark((function e(t,a){var n,r,l,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_LIST_MY_REQUEST"}),n=a(),r=n.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,_.a.get("/api/orders/myorders",l);case 6:c=e.sent,o=c.data,t({type:"ORDER_LIST_MY_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"ORDER_LIST_MY_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())):t.push("/login"),function(){}}),[w,t,Q,G]);return r.a.createElement(I.a,null,r.a.createElement(T.a,{md:3},r.a.createElement("h2",null,"User Profile"),F&&r.a.createElement(M,{variant:"danger"},F),D&&r.a.createElement(M,{variant:"danger"},D),B&&r.a.createElement(M,{variant:"success"},"Profile Updated"),r.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),S!==j?A("Passwords do not match"):w(function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_UPDATE_PROFILE_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.put("/api/users/profile",e,c);case 6:o=t.sent,u=o.data,a({type:"USER_UPDATE_PROFILE_SUCCESS",payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"USER_UPDATE_PROFILE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}({id:Q._id,name:c,email:p,password:S}))}},r.a.createElement(m.a.Group,{controlid:"email"},r.a.createElement(m.a.Label,null,"Name"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter name",value:c,onChange:function(e){return o(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"email"},r.a.createElement(m.a.Label,null,"Email Adrress"),r.a.createElement(m.a.Control,{type:"email",placeholder:"Enter email",value:p,onChange:function(e){return f(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"password"},r.a.createElement(m.a.Label,null,"Password"),r.a.createElement(m.a.Control,{type:"password",placeholder:"Enter password",value:S,onChange:function(e){return b(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"confirmpassword"},r.a.createElement(m.a.Label,null,"Confirm Password"),r.a.createElement(m.a.Control,{type:"password",placeholder:"Confirm password",value:j,onChange:function(e){return k(e.target.value)}})),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Update"))),r.a.createElement(T.a,{md:9},r.a.createElement("h2",null,"My Orders"),Y?r.a.createElement(N,null):$?r.a.createElement(M,{variant:"danger"},$):r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID ON"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,q.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}}),")"),r.a.createElement("td",null,e.Delivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(d.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(E.a,{className:"btn-sm",variant:"light"},"Details"))))}))))))},ie=function(e){var t=e.step1,a=e.step2,n=e.step3,l=e.step4;return r.a.createElement(g.a,{className:"justify-content-center mb-4"},r.a.createElement(g.a.Item,null,t?r.a.createElement(d.LinkContainer,{to:"/login"},r.a.createElement(g.a.Link,null,"Sign In")):r.a.createElement(g.a.Link,{disabled:!0},"Sign In")),r.a.createElement(g.a.Item,null,a?r.a.createElement(d.LinkContainer,{to:"/shipping"},r.a.createElement(g.a.Link,null,"Shipping")):r.a.createElement(g.a.Link,{disabled:!0},"Shipping")),r.a.createElement(g.a.Item,null,n?r.a.createElement(d.LinkContainer,{to:"/payments"},r.a.createElement(g.a.Link,null,"Payment")):r.a.createElement(g.a.Link,{disabled:!0},"Payment")),r.a.createElement(g.a.Item,null,l?r.a.createElement(d.LinkContainer,{to:"/placeorder"},r.a.createElement(g.a.Link,null,"Place Order")):r.a.createElement(g.a.Link,{disabled:!0},"Place Order")))},me=function(e){var t=e.history,a=Object(y.b)(),l=Object(y.c)((function(e){return e.cart})).shippingAddress,c=Object(n.useState)(l.address),o=Object(i.a)(c,2),u=o[0],s=o[1],p=Object(n.useState)(l.city),d=Object(i.a)(p,2),f=d[0],g=d[1],h=Object(n.useState)(l.postalCode),S=Object(i.a)(h,2),v=S[0],R=S[1],b=Object(n.useState)(l.country),_=Object(i.a)(b,2),O=_[0],C=_[1];return r.a.createElement(ce,null,r.a.createElement(ie,{step1:!0,step2:!0}),r.a.createElement("h1",null,"Shipping"),r.a.createElement(m.a,{onSubmit:function(e){var n;e.preventDefault(),a((n={address:u,city:f,postalCode:v,country:O},function(e){e({type:"CART_SAVE_SHIPPING_ADDRESS",payload:n}),localStorage.setItem("shippingAddress",JSON.stringify(n))})),t.push("/payments")}},r.a.createElement(m.a.Group,{controlid:"address"},r.a.createElement(m.a.Label,null,"Address"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter address",value:u,required:!0,onChange:function(e){return s(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"city"},r.a.createElement(m.a.Label,null,"City"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter city",value:f,required:!0,onChange:function(e){return g(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"postalCode"},r.a.createElement(m.a.Label,null,"Postal Code"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter postal code",value:v,required:!0,onChange:function(e){return R(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"country"},r.a.createElement(m.a.Label,null,"Country"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter country",value:O,required:!0,onChange:function(e){return C(e.target.value)}})),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Continue")))},Ee=function(e){var t=e.history,a=Object(y.b)();Object(y.c)((function(e){return e.cart})).shippingAddress||t.push("/shipping");var l=Object(n.useState)("Paypal"),c=Object(i.a)(l,2),o=c[0],u=c[1];return r.a.createElement(ce,null,r.a.createElement(ie,{step1:!0,step2:!0,step3:!0}),r.a.createElement("h1",null,"Payment Method"),r.a.createElement(m.a,{onSubmit:function(e){var n;e.preventDefault(),a((n=o,function(e){e({type:"CART_SAVE_PAYMENT_METHOD",payload:n}),localStorage.setItem("paymentMethod",JSON.stringify(n))})),t.push("/placeorder")}},r.a.createElement(m.a.Group,null,r.a.createElement(m.a.Label,{as:"legend"},"Select Method"),r.a.createElement(T.a,null,r.a.createElement(m.a.Check,{type:"radio",label:"Paypal or Credit card",id:"PayPal",name:"paymentMethod",value:"PayPal",checked:!0,onChange:function(e){return u(e.target.value)}}))),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Continue")))},pe=function(e){var t=e.history,a=Object(y.b)(),l=function(e){return(Math.round(100*e)/100).toFixed(2)},c=Object(y.c)((function(e){return e.cart}));c.itemsPrice=l(c.cartItems.reduce((function(e,t){return e+t.price*t.qty}),0)),c.shippingPrice=l(c.ItemsPrice>100?0:100),c.taxPrice=l(Number(.15*c.itemsPrice).toFixed(2)),c.totalPrice=Number(c.itemsPrice)+Number(c.shippingPrice)+Number(c.taxPrice);var u=Object(y.c)((function(e){return e.orderCreate})),s=u.order,i=u.success,m=u.error;Object(n.useEffect)((function(){i&&t.push("/order/".concat(s._id))}),[t,i]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(ie,{step1:!0,step2:!0,step3:!0,step4:!0}),r.a.createElement(I.a,null,r.a.createElement(T.a,{md:8},r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,c.shippingAddress.address,",",c.shippingAddress.city,",",c.shippingAddress.postalCode,",",c.shippingAddress.country))),r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("strong",null,"Method:",c.paymentMethod)),r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===c.cartItems.length?r.a.createElement(M,null,"Your cart is empty"):r.a.createElement(Z.a,{variant:"flush"},c.cartItems.map((function(e,t){return r.a.createElement(Z.a.Item,{key:t},r.a.createElement(I.a,null,r.a.createElement(T.a,{md:1},r.a.createElement(W.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(T.a,null,r.a.createElement(o.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(T.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(T.a,{md:4},r.a.createElement(D.a,null,r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Item Price"),r.a.createElement(T.a,null,"$",c.itemsPrice))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Shipping Price"),r.a.createElement(T.a,null,"$",c.shippingPrice))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Tax Price"),r.a.createElement(T.a,null,"$",c.taxPrice))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Total"),r.a.createElement(T.a,null,"$",c.totalPrice))),r.a.createElement(Z.a.Item,null,m&&r.a.createElement(M,{variant:"danger"},m)),r.a.createElement(Z.a.Item,null,r.a.createElement(E.a,{type:"button",className:"btn-block",disabled:0===c.cartItems,onClick:function(){a(ae({orderItems:c.cartItems,shippingAddress:c.shippingAddress,paymentMethod:c.paymentMethod,itemsPrice:c.itemsPrice,shippingPrice:c.shippingPrice,taxPrice:c.taxPrice,totalPrice:c.totalPrice}))}},"Place Order")))))))},de=a(80),fe=function(e){var t,a=e.match,l=e.history,c=a.params.id,u=Object(y.b)(),s=Object(n.useState)(!1),m=Object(i.a)(s,2),p=m[0],d=m[1],f=Object(y.c)((function(e){return e.userLogin})).userInfo,g=Object(y.c)((function(e){return e.orderDetails})),h=g.order,S=g.loading,b=g.error,O=Object(y.c)((function(e){return e.orderPay})),C=O.loading,U=O.success,A=Object(y.c)((function(e){return e.orderDeliver})),L=A.loading,P=A.success;if(!S){h.itemsPrice=(t=h.orderItems.reduce((function(e,t){return e+t.price*t.qty}),0),(Math.round(100*t)/100).toFixed(2))}Object(n.useEffect)((function(){f||l.pushState("/login");var e,t=function(){var e=Object(R.a)(v.a.mark((function e(){var t,a,n;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/api/config/paypal");case 2:t=e.sent,a=t.data,(n=document.createElement("script")).type="text/javascript",n.src="https://www.paypal.com/sdk/js?client-id=".concat(a),n.async=!0,n.onload=function(){d(!0)},document.body.appendChild(n);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();!h||U||P?(u({type:"ORDER_PAY_RESET"}),u({type:"ORDER_DELIVER_RESET"}),u((e=c,function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DETAILS_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.get("/api/orders/".concat(e),c);case 6:o=t.sent,u=o.data,a({type:"ORDER_DETAILS_SUCCESS",payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"ORDER_DETAILS_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()))):h.isPaid||(window.paypal?d(!0):t())}),[u,c,U,h,P,l,f]);return S?r.a.createElement(N,null):b?r.a.createElement(M,{variant:"danger"},b):r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Order ",h._id),r.a.createElement(I.a,null,r.a.createElement(T.a,{md:8},r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Shipping"),r.a.createElement("p",null,r.a.createElement("strong",null,"Name:"),h.user.name),r.a.createElement("p",null,r.a.createElement("strong",null,"Email:"),r.a.createElement("a",{href:"mailto:".concat(h.user.email)},h.user.email)),r.a.createElement("p",null,r.a.createElement("strong",null,h.shippingAddress.address,",",h.shippingAddress.city,",",h.shippingAddress.postalCode,",",h.shippingAddress.country)),h.isDelivered?r.a.createElement(M,{variant:"success"},"Delivered on ",h.deliveredAt):r.a.createElement(M,{variant:"danger"},"Not Delivered")),r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Payment Method"),r.a.createElement("p",null,r.a.createElement("strong",null,"Method:",h.paymentMethod)),h.isPaid?r.a.createElement(M,{variant:"success"},"Paid on ",h.paidAt):r.a.createElement(M,{variant:"danger"},"Not Paid")),r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Order Items"),0===h.orderItems.length?r.a.createElement(M,null,"Order is empty"):r.a.createElement(Z.a,{variant:"flush"},h.orderItems.map((function(e,t){return r.a.createElement(Z.a.Item,{key:t},r.a.createElement(I.a,null,r.a.createElement(T.a,{md:1},r.a.createElement(W.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})),r.a.createElement(T.a,null,r.a.createElement(o.Link,{to:"/product/".concat(e.product)},e.name)),r.a.createElement(T.a,{md:4},e.qty," x $",e.price," = $",e.qty*e.price)))})))))),r.a.createElement(T.a,{md:4},r.a.createElement(D.a,null,r.a.createElement(Z.a,{variant:"flush"},r.a.createElement(Z.a.Item,null,r.a.createElement("h2",null,"Order Summary")),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Item Price"),r.a.createElement(T.a,null,"$",h.itemsPrice))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Shipping Price"),r.a.createElement(T.a,null,"$",h.shippingPrice))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Tax Price"),r.a.createElement(T.a,null,"$",h.taxPrice))),r.a.createElement(Z.a.Item,null,r.a.createElement(I.a,null,r.a.createElement(T.a,null,"Total"),r.a.createElement(T.a,null,"$",h.totalPrice))),!h.isPaid&&r.a.createElement(Z.a.Item,null,C&&r.a.createElement(N,null),p?r.a.createElement(de.PayPalButton,{amount:h.totalPrice,onSuccess:function(e){u(function(e,t){return function(){var a=Object(R.a)(v.a.mark((function a(n,r){var l,c,o,u,s;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,n({type:"ORDER_PAY_REQUEST"}),l=r(),c=l.userLogin.userInfo,o={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}},a.next=6,_.a.put("/api/orders/".concat(e,"/pay"),t,o);case 6:u=a.sent,s=u.data,n({type:"ORDER_PAY_SUCCESS",payload:s}),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),n({type:"ORDER_PAY_FAILURE",payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e,t){return a.apply(this,arguments)}}()}(c,e))}}):r.a.createElement(N,null)),L&&r.a.createElement(N,null),f&&f.isAdmin&&h.isPaid&&!h.isDelivered&&r.a.createElement(Z.a.Item,null,r.a.createElement(E.a,{type:"button",className:"btn btn-block",onClick:function(){u(function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"ORDER_DELIVER_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.put("/api/orders/".concat(e._id,"/deliver"),{},c);case 6:o=t.sent,u=o.data,a({type:"ORDER_DELIVER_SUCCESS",payload:u}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),a({type:"ORDER_DELIVER_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 14:case"end":return t.stop()}}),t,null,[[0,11]])})));return function(e,a){return t.apply(this,arguments)}}()}(h))}},"Mark As Delivered")))))))},ge=function(e){var t=e.history,a=Object(y.b)(),l=Object(y.c)((function(e){return e.userList})),c=l.loading,o=l.error,u=l.users,s=Object(y.c)((function(e){return e.userLogin})).userInfo,i=Object(y.c)((function(e){return e.userDelete})).success,m=["673-15-96-85","698-98-37-40","622-90-32-11","623-11-22-75"];return Object(n.useEffect)((function(){s&&s.isAdmin?a(function(){var e=Object(R.a)(v.a.mark((function e(t,a){var n,r,l,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"USER_LIST_REQUEST"}),n=a(),r=n.userLogin.userInfo,l={headers:{Authorization:"Bearer ".concat(r.token)}},e.next=6,_.a.get("/api/users",l);case 6:c=e.sent,o=c.data,t({type:"USER_LIST_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"USER_LIST_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message0:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,t,i,s]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Suppliers"),c?r.a.createElement(N,null):o?r.a.createElement(M,{variant:"danger"},o):r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"EMAIL"),r.a.createElement("th",null,"TEL"),r.a.createElement("th",null,"LOCATION"),r.a.createElement("th",null))),r.a.createElement("tbody",null,u.map((function(e,t){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,r.a.createElement("a",{href:"mailto:".concat(e.email)},e.email)," "),r.a.createElement("td",null,m[t]),r.a.createElement("td",null,"Douala"),r.a.createElement("td",null,"laurellelyvia@gmail.com"===e.email?r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}}):r.a.createElement("i",{className:"fas fa-check cursor-pointer",style:{color:"green"}})))})))))},he=function(e){var t=e.match,a=e.history,l=t.params.id,c=Object(n.useState)(""),u=Object(i.a)(c,2),s=u[0],p=u[1],d=Object(n.useState)(""),f=Object(i.a)(d,2),g=f[0],h=f[1],S=Object(n.useState)(!1),b=Object(i.a)(S,2),C=b[0],I=b[1],T=Object(y.b)(),U=Object(y.c)((function(e){return e.userDetails})),D=U.loading,A=U.error,L=U.user,P=Object(y.c)((function(e){return e.userUpdate})),j=P.loading,k=P.error,w=P.success;Object(n.useEffect)((function(){return w?(T({type:"USER_UPDATE_RESET"}),a.push("/admin/userlist")):L.name&&L._id===l?(h(L.name),p(L.email),I(L.isAdmin)):T(O(l)),function(){}}),[L,T,l,w,a]);return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Link,{to:"/admin/userlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(ce,null,r.a.createElement("h1",null,"Edit User"),j&&r.a.createElement(N,null),k&&r.a.createElement(M,{variant:"danger"},k),D?r.a.createElement(N,null):A?r.a.createElement(M,{variant:"danger"},A):r.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),T(function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c,o,u;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"USER_UPDATE_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.put("/api/users/".concat(e._id),e,c);case 6:o=t.sent,u=o.data,a({type:"USER_UPDATE_SUCCESS"}),a({type:"USER_DETAILS_SUCCESS",payload:u}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),a({type:"USER_UPDATE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,a){return t.apply(this,arguments)}}()}({_id:l,name:g,email:s,isAdmin:C}))}},r.a.createElement(m.a.Group,{controlid:"name"},r.a.createElement(m.a.Label,null,"Name"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter name",value:g,onChange:function(e){return h(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"email"},r.a.createElement(m.a.Label,null,"Email Adrress"),r.a.createElement(m.a.Control,{type:"email",placeholder:"Enter email",value:s,onChange:function(e){return p(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"isAdmin"},r.a.createElement(m.a.Check,{type:"checkbox",label:"Is Admin",checked:C,onChange:function(e){return I(e.target.checked)}})),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Update"))))},ye=function(e){var t=e.match,a=e.history,l=t.params.pageNumber||1,c=Object(y.b)(),o=Object(y.c)((function(e){return e.productList})),u=o.loading,s=o.error,i=o.products,m=o.page,p=o.pages,f=Object(y.c)((function(e){return e.userLogin})).userInfo,g=Object(y.c)((function(e){return e.productDelete})),h=g.loading,S=g.error,b=g.success,O=Object(y.c)((function(e){return e.productCreate})),C=O.loading,U=O.error,D=O.success,A=O.product,L=function(e){window.confirm("Sure About this ?")&&c(function(e){return function(){var t=Object(R.a)(v.a.mark((function t(a,n){var r,l,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a({type:"PRODUCT_DELETE_REQUEST"}),r=n(),l=r.userLogin.userInfo,c={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l.token)}},t.next=6,_.a.delete("/api/products/".concat(e),c);case 6:a({type:"PRODUCT_DELETE_SUCCESS"}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a({type:"PRODUCT_DELETE_FAILURE",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}()}(e))},P=function(){c(function(){var e=Object(R.a)(v.a.mark((function e(t,a){var n,r,l,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"PRODUCT_CREATE_REQUEST"}),n=a(),r=n.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,_.a.post("/api/products/",{},l);case 6:c=e.sent,o=c.data,t({type:"PRODUCT_CREATE_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"PRODUCT_CREATE_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}())};return Object(n.useEffect)((function(){c({type:"PRODUCT_CREATE_RESET"}),f.isAdmin||a.push("/login"),D?a.push("/admin/products/".concat(A._id,"/edit")):c(j("",l))}),[c,f,b,D,A,a,l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("h1",null,"Drugs")),r.a.createElement(T.a,{className:"text-right"},r.a.createElement(E.a,{className:"my-3",onClick:function(){return P()}},r.a.createElement("i",{className:"fas fa-plus mr-3"}),"Create Drug"))),h&&r.a.createElement(N,null),S&&r.a.createElement(M,{variant:"danger"},S),C&&r.a.createElement(N,null),U&&r.a.createElement(M,{variant:"danger"},U),u?r.a.createElement(N,null):s?r.a.createElement(M,{variant:"danger"},s):r.a.createElement(r.a.Fragment,null,r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"NAME"),r.a.createElement("th",null,"PRICE (XAF)"),r.a.createElement("th",null,"CATEGORY"),r.a.createElement("th",null,"BRAND"),r.a.createElement("th",null,"ACTIONS"))),r.a.createElement("tbody",null,i.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e.name),r.a.createElement("td",null,e.price.toFixed(0)),r.a.createElement("td",null,e.category),r.a.createElement("td",null,e.brand),r.a.createElement("td",null,r.a.createElement(d.LinkContainer,{to:"/admin/products/".concat(e._id,"/edit")},r.a.createElement(E.a,{variant:"light",className:"btn-sm"},r.a.createElement("i",{className:"fas fa-edit"}))),r.a.createElement(E.a,{variant:"danger",className:"btn-sm",onClick:function(){return L(e._id)}},r.a.createElement("i",{className:"fas fa-trash"}))))})))),r.a.createElement(V,{page:m,pages:p,isAdmin:!0})))},Se=function(e){var t=e.match,a=e.history,l=Object(n.useState)(null),c=Object(i.a)(l,2),u=c[0],s=c[1],p=t.params.id,d=Object(n.useState)(""),f=Object(i.a)(d,2),g=f[0],h=f[1],S=Object(n.useState)(0),b=Object(i.a)(S,2),O=b[0],C=b[1],I=Object(n.useState)(""),T=Object(i.a)(I,2),U=T[0],D=T[1],A=Object(n.useState)(""),L=Object(i.a)(A,2),P=L[0],j=L[1],x=Object(n.useState)(""),F=Object(i.a)(x,2),G=F[0],Q=F[1],B=Object(n.useState)(""),V=Object(i.a)(B,2),Y=V[0],$=V[1],q=Object(n.useState)(0),z=Object(i.a)(q,2),J=z[0],X=z[1],H=Object(n.useState)(""),K=Object(i.a)(H,2),Z=K[0],ee=K[1],te=Object(n.useState)(!1),ae=Object(i.a)(te,2),ne=ae[0],re=ae[1],le=Object(y.b)(),oe=Object(y.c)((function(e){return e.productDetails})),ue=oe.loading,se=oe.error,ie=oe.product,me=Object(y.c)((function(e){return e.productUpdate})),Ee=me.loading,pe=me.error,de=me.success;Object(n.useEffect)((function(){return de?(le({type:"PRODUCT_UPDATE_RESET"}),a.push("/admin/productlist")):ie.name&&ie._id===p?(h(ie.name),C(ie.price),D(ie.image),s(ie.image),Q(ie.brand),$(ie.category),X(ie.countInStock),ee(ie.description)):le(k(p)),function(){}}),[ie,le,p,de,a]);var fe=function(){var e=Object(R.a)(v.a.mark((function e(t){var a,n,r,l,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.target.files[0],(n=new FormData).append("image",a),re(!0),(r=new FileReader).readAsDataURL(a),r.onloadend=function(){return s(r.result)},e.prev=7,l={headers:{"Content-Type":"multipart/form-data"}},e.next=11,_.a.post("/api/upload",n,l);case 11:c=e.sent,o=c.data,console.log(o,"this is the path of the file"),D(o),re(!1),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(7),console.error(e.t0),re(!1);case 22:case"end":return e.stop()}}),e,null,[[7,18]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.Link,{to:"/admin/productlist",className:"btn btn-light my-3"},"Go Back"),r.a.createElement(ce,null,r.a.createElement("h1",null,"Add Drug"),Ee&&r.a.createElement(N,null),pe&&r.a.createElement(M,{variant:"danger"},pe),ue?r.a.createElement(N,null):se?r.a.createElement(M,{variant:"danger"},se):r.a.createElement(m.a,{onSubmit:function(e){e.preventDefault(),le(w({_id:p,name:g,price:O,image:U,brand:G,category:Y,description:Z,countInStock:J,expiryDate:P}))}},r.a.createElement(m.a.Group,{controlid:"name"},r.a.createElement(m.a.Label,null,"Name"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter name",value:g,onChange:function(e){return h(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"description"},r.a.createElement(m.a.Label,null,"Description"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter product description ",value:Z,onChange:function(e){return ee(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"price"},r.a.createElement(m.a.Label,null,"Price"),r.a.createElement(m.a.Control,{type:"number",placeholder:"Enter price",value:O,onChange:function(e){return C(e.target.value)}})),!!u&&r.a.createElement("div",{style:{width:"10rem",height:"10rem",borderRadius:"50%"}},r.a.createElement(W.a,{src:u,fluid:!0})),r.a.createElement(m.a.Group,{controlid:"image"},r.a.createElement(m.a.Label,null,"Image"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter image URL",value:U,onChange:function(e){return D(e.target.value)}}),r.a.createElement(m.a.File,{id:"image-file",label:"choose-file",custom:!0,onChange:fe}),ne&&r.a.createElement(N,null)),r.a.createElement(m.a.Group,{controlid:"brand"},r.a.createElement(m.a.Label,null,"Brand"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter brand name",value:G,onChange:function(e){return Q(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"countInStock"},r.a.createElement(m.a.Label,null,"Count In Stock"),r.a.createElement(m.a.Control,{type:"number",placeholder:"Enter count in stock",value:J,onChange:function(e){return X(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"category"},r.a.createElement(m.a.Label,null,"Category"),r.a.createElement(m.a.Control,{type:"text",placeholder:"Enter Category",value:Y,onChange:function(e){return $(e.target.value)}})),r.a.createElement(m.a.Group,{controlid:"expiryDate"},r.a.createElement(m.a.Label,null,"Expiry Date"),r.a.createElement(m.a.Control,{type:"date",placeholder:"Enter expiry date",value:P,onChange:function(e){return j(e.target.value)}})),r.a.createElement(E.a,{type:"submit",variant:"primary"},"Update"))))},ve=function(e){e.match;var t=e.history,a=Object(y.b)(),l=Object(y.c)((function(e){return e.orderListAll})),c=l.loading,o=l.error,u=l.orders,s=Object(y.c)((function(e){return e.userLogin})).userInfo;return Object(n.useEffect)((function(){s.isAdmin?a(function(){var e=Object(R.a)(v.a.mark((function e(t,a){var n,r,l,c,o;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:"ORDER_ALL_REQUEST"}),n=a(),r=n.userLogin.userInfo,l={headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r.token)}},e.next=6,_.a.get("/api/orders/",l);case 6:c=e.sent,o=c.data,t({type:"ORDER_ALL_SUCCESS",payload:o}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),t({type:"ORDER_ALL_FAILURE",payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,a){return e.apply(this,arguments)}}()):t.push("/login")}),[a,s,t]),r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{className:"align-items-center"},r.a.createElement(T.a,null,r.a.createElement("h1",null,"Orders"))),c?r.a.createElement(N,null):o?r.a.createElement(M,{variant:"danger"},o):r.a.createElement(te.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"ID"),r.a.createElement("th",null,"USER"),r.a.createElement("th",null,"DATE"),r.a.createElement("th",null,"TOTAL"),r.a.createElement("th",null,"PAID ON"),r.a.createElement("th",null,"DELIVERED"),r.a.createElement("th",null))),r.a.createElement("tbody",null,u.map((function(e){return r.a.createElement("tr",{key:e._id},r.a.createElement("td",null,e._id),r.a.createElement("td",null,e.user&&e.user.name),r.a.createElement("td",null,e.createdAt.substring(0,10)),r.a.createElement("td",null,"$",e.totalPrice),r.a.createElement("td",null,e.isPaid?e.paidAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}}),")"),r.a.createElement("td",null,e.Delivered?e.deliveredAt.substring(0,10):r.a.createElement("i",{className:"fas fa-times",style:{color:"red"}})),r.a.createElement("td",null,r.a.createElement(d.LinkContainer,{to:"/order/".concat(e._id)},r.a.createElement(E.a,{className:"btn-sm",variant:"light"},"Details"))))})))))},Re=(a(119),function(){return r.a.createElement(o.BrowserRouter,null,r.a.createElement(C,null),r.a.createElement("main",{className:"py-3"},r.a.createElement(s.a,null,r.a.createElement(u.d,{path:"/shipping",component:me}),r.a.createElement(u.d,{path:"/payments",component:Ee}),r.a.createElement(u.d,{path:"/placeorder",component:pe}),r.a.createElement(u.d,{path:"/login",component:oe}),r.a.createElement(u.d,{path:"/profile",component:se}),r.a.createElement(u.d,{path:"/register",component:ue}),r.a.createElement(u.d,{path:"/register",component:ue}),r.a.createElement(u.d,{path:"/admin/productlist",component:ye,exact:!0}),r.a.createElement(u.d,{path:"/admin/productlist/:pageNumber",component:ye,exact:!0}),r.a.createElement(u.d,{path:"/admin/userlist",component:ge}),r.a.createElement(u.d,{path:"/admin/reportlist",component:ne}),r.a.createElement(u.d,{path:"/admin/orderlist",component:ve}),r.a.createElement(u.d,{path:"/admin/users/:id/edit",component:he}),r.a.createElement(u.d,{path:"/",component:X,exact:!0}),r.a.createElement(u.d,{path:"/search/:keyword",component:X,exact:!0}),r.a.createElement(u.d,{path:"/page/:pageNumber",component:X,exact:!0}),r.a.createElement(u.d,{path:"/search/:keyword/page/:pageNumber",component:X,exact:!0}),r.a.createElement(u.d,{path:"/admin/products/:id/edit",component:Se}),r.a.createElement(u.d,{path:"/order/:id",component:fe}),r.a.createElement(u.d,{path:"/product/:id",component:ee}),r.a.createElement(u.d,{path:"/cart/:id?",component:le}))),r.a.createElement(U,null),r.a.createElement(H.a,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var be=a(42),_e=a(82),Oe=a(81),Ce=a(7),Ie=Object(be.combineReducers)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_LIST_REQUEST":return{loading:!0,products:[]};case"PRODUCT_LIST_SUCCESS":return{loading:!1,products:t.payload.products,pages:t.payload.pages,page:t.payload.page};case"PRODUCT_LIST_FAILURE":return{loading:!1,error:t.payload};default:return e}},productStats:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_STATS_REQUEST":return{loading:!0,products:[]};case"PRODUCT_STATS_SUCCESS":return{loading:!1,products:t.payload.products,count:t.payload.count,productTotalValue:t.payload.productTotalValue};case"PRODUCT_STATS_FAILURE":return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DETAILS_REQUEST":return Object(Ce.a)({loading:!0},e);case"PRODUCT_DETAILS_SUCCESS":return{loading:!1,product:t.payload};case"PRODUCT_DETAILS_FAILURE":return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_DELETE_REQUEST":return{loading:!0};case"PRODUCT_DELETE_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_DELETE_FAILURE":return{loading:!1,error:t.payload};default:return e}},productCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REQUEST":return{loading:!0};case"PRODUCT_CREATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_CREATE_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_RESET":return{};default:return e}},productUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_UPDATE_REQUEST":return{loading:!0};case"PRODUCT_UPDATE_SUCCESS":return{loading:!1,success:!0,product:t.payload};case"PRODUCT_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_UPDATE_RESET":return{product:{}};default:return e}},productReviewCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_CREATE_REVIEW_REQUEST":return{loading:!0};case"PRODUCT_CREATE_REVIEW_SUCCESS":return{loading:!1,success:!0};case"PRODUCT_CREATE_REVIEW_FAILURE":return{loading:!1,error:t.payload};case"PRODUCT_CREATE_REVIEW_RESET":return{product:{}};default:return e}},productTopRated:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PRODUCT_TOP_REQUEST":return{loading:!0,products:[]};case"PRODUCT_TOP_SUCCESS":return{loading:!1,products:t.payload};case"PRODUCT_TOP_FAILURE":return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_ADD_ITEM":var a=t.payload,n=e.cartItems.find((function(e){return e.product===a.product}));return n?Object(Ce.a)(Object(Ce.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.product===n.product?a:e}))}):Object(Ce.a)(Object(Ce.a)({},e),{},{cartItems:[].concat(Object(Q.a)(e.cartItems),[a])});case"CART_REMOVE_ITEM":return Object(Ce.a)(Object(Ce.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))});case"CART_SAVE_SHIPPING_ADDRESS":return Object(Ce.a)(Object(Ce.a)({},e),{},{shippingAddress:t.payload});case"CART_SAVE_PAYMENT_METHOD":return Object(Ce.a)(Object(Ce.a)({},e),{},{paymentMethod:t.payload});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LOGIN_REQUEST":return{loading:!0};case"USER_LOGIN_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_LOGIN_FAILURE":return{loading:!1,error:t.payload};case"USER_LOGOUT":return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_REGISTER_REQUEST":return{loading:!0};case"USER_REGISTER_SUCCESS":return{loading:!1,userInfo:t.payload};case"USER_REGISTER_FAILURE":return{loading:!1,error:t.payload};default:return e}},userDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DETAILS_REQUEST":return Object(Ce.a)(Object(Ce.a)({},e),{},{loading:!0});case"USER_DETAILS_SUCCESS":return{loading:!1,user:t.payload};case"USER_DETAILS_FAIURE":return{loading:!1,error:t.payload};case"USER_DETAILS_RESET":return{user:{}};default:return e}},userUpdateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_PROFILE_REQUEST":return{loading:!0};case"USER_UPDATE_PROFILE_SUCCESS":return{loading:!1,success:!0,userInfo:t.payload};case"USER_UPDATE_PROFILE_FAILURE":return{loading:!1,error:t.payload};default:return e}},orderCreate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_CREATE_REQUEST":return{loading:!0};case"ORDER_CREATE_SUCCESS":return{loading:!1,success:!0,order:t.payload};case"ORDER_CREATE_FAILURE":return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DETAILS_REQUEST":return Object(Ce.a)(Object(Ce.a)({},e),{},{loading:!0});case"ORDER_DETAILS_SUCCESS":return{loading:!1,order:t.payload};case"ORDER_DETAILS_FAILURE":return{loading:!1,error:t.payload};default:return e}},orderPay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_PAY_REQUEST":return{loading:!0,success:!1};case"ORDER_PAY_SUCCESS":return{loading:!1,succcess:!0};case"ORDER_PAY_FAILURE":return{loading:!1,success:!1};case"ORDER_PAY_RESET":return{};default:return e}},orderListMy:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_LIST_MY_REQUEST":return{loading:!0};case"ORDER_LIST_MY_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_LIST_MY_FAILURE":return{loading:!1,error:t.payload};case"ORDER_LIST_MY_RESET":return{orders:[]};default:return e}},orderListAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_ALL_REQUEST":return{loading:!0};case"ORDER_ALL_SUCCESS":return{loading:!1,orders:t.payload};case"ORDER_ALL_FAILURE":return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ORDER_DELIVER_REQUEST":return{loading:!0,success:!1};case"ORDER_DELIVER_SUCCESS":return{loading:!1,succcess:!0};case"ORDER_DELIVER_FAILURE":return{loading:!1,error:t.payload};case"ORDER_DELIVER_RESET":return{};default:return e}},userList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_LIST_REQUEST":return{loading:!0};case"USER_LIST_SUCCESS":return{loading:!1,users:t.payload};case"USER_LIST_FAILURE":return{loading:!1,error:t.payload};case"USER_LIST_RESET ":return{users:[]};default:return e}},userDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_DELETE_REQUEST":return{loading:!0};case"USER_DELETE_SUCCESS":return{loading:!1,succcess:!0};case"USER_DELETE_FAILURE":return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_REQUEST":return{loading:!0};case"USER_UPDATE_SUCCESS":return{loading:!1,succcess:!0};case"USER_UPDATE_FAILURE":return{loading:!1,error:t.payload};case"USER_UPDATE_RESET":return{user:{}};default:return e}}}),Te=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Ue=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,De=localStorage.getItem("userDetails")?JSON.parse(localStorage.getItem("userDetails")):null,Ae=localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{},Le=[_e.a],Pe={cart:{cartItems:Te,shippingAddress:Ae},userLogin:{userInfo:Ue},userDetails:{userDetailsFromStorage:De}},je=Object(be.createStore)(Ie,Pe,Object(Oe.composeWithDevTools)(be.applyMiddleware.apply(void 0,Le)));c.a.render(r.a.createElement(y.a,{store:je},r.a.createElement(Re,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},84:function(e,t,a){e.exports=a(120)},89:function(e,t,a){},90:function(e,t,a){}},[[84,1,2]]]);
//# sourceMappingURL=main.e5505045.chunk.js.map